{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/pdfGenerator/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Weblog"}},"markdownRemark":{"id":"92290395-25f8-5491-8a3e-d3eac4b81ad9","excerpt":"なんで pdf 文書が必要か？ 基本な流れ Express のルーティング Pdf 生成 共通の Header と Footer Pdf 作成 Pdf のパーサー なんで pdf 文書が必要か？ ウェブページで作成した取説について、関係者へ配布するときに、印刷またはオフラインで確認しやすいように、pdf…","html":"<div class=\"toc\">\n<ul>\n<li>\n<p><a href=\"#%E3%81%AA%E3%82%93%E3%81%A7-pdf-%E6%96%87%E6%9B%B8%E3%81%8C%E5%BF%85%E8%A6%81%E3%81%8B\">なんで pdf 文書が必要か？</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%9F%BA%E6%9C%AC%E3%81%AA%E6%B5%81%E3%82%8C\">基本な流れ</a></p>\n</li>\n<li>\n<p><a href=\"#express-%E3%81%AE%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0\">Express のルーティング</a></p>\n</li>\n<li>\n<p><a href=\"#pdf-%E7%94%9F%E6%88%90\">Pdf 生成</a></p>\n<ul>\n<li><a href=\"#%E5%85%B1%E9%80%9A%E3%81%AE-header-%E3%81%A8-footer\">共通の Header と Footer</a></li>\n<li><a href=\"#pdf-%E4%BD%9C%E6%88%90\">Pdf 作成</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#pdf-%E3%81%AE%E3%83%91%E3%83%BC%E3%82%B5%E3%83%BC\">Pdf のパーサー</a></p>\n</li>\n</ul>\n</div>\n<h2 id=\"なんで-pdf-文書が必要か\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%82%93%E3%81%A7-pdf-%E6%96%87%E6%9B%B8%E3%81%8C%E5%BF%85%E8%A6%81%E3%81%8B\" aria-label=\"なんで pdf 文書が必要か permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なんで pdf 文書が必要か？</h2>\n<p>ウェブページで作成した取説について、関係者へ配布するときに、印刷またはオフラインで確認しやすいように、pdf のようなフォーマットは望ましい。</p>\n<p>また、文書だけのレイアウトを整うだけではなく、目次（Table of Contents）の部分も自動生成させて、長い文書の内容が一目瞭然になる。</p>\n<h2 id=\"基本な流れ\" style=\"position:relative;\"><a href=\"#%E5%9F%BA%E6%9C%AC%E3%81%AA%E6%B5%81%E3%82%8C\" aria-label=\"基本な流れ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基本な流れ</h2>\n<ol>\n<li>\n<p>express のルーティングによって pdf 生成時のサーバサイドの関数を呼び出す</p>\n</li>\n<li>\n<p>puppeteer を使って中間 pdf を生成する</p>\n</li>\n<li>\n<p>生成した pdf をパーサーし、目次に当たる内容とそのページ番号を抽出する</p>\n</li>\n<li>\n<p>バッファーの html の TOC 部にページ番号を追記する</p>\n</li>\n<li>\n<p>バッファーの html に対して、最終の pdf を生成する</p>\n</li>\n</ol>\n<h2 id=\"express-のルーティング\" style=\"position:relative;\"><a href=\"#express-%E3%81%AE%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0\" aria-label=\"express のルーティング permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Express のルーティング</h2>\n<p>ウェブサイトに対して、<code class=\"language-text\">/pdf/</code>をつけたルートの場合、<code class=\"language-text\">ssr.js</code>を呼び出して、pdf を変化した後に、クライアントサイドに pdf 文書としてダウンロードされる。</p>\n<div\n              class=\"gatsby-code-button-container customButtonContainerClass\"\n              data-toaster-id=\"80692060556944310000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"コピー完了\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`app.get(/pdf/, async (req, res, next) => {\n  var oriUrl = req.originalUrl;\n  oriUrl = oriUrl.replace(&quot;pdf&quot;, &quot;&quot;);\n  const { pdf, ttRenderMs } = await ssr(\n    \\`\\${req.protocol}://\\${req.get(&quot;host&quot;)}\\${oriUrl}\\`\n  );\n  res.set(\n    &quot;Server-Timing&quot;,\n    \\`Prerender;dur=\\${ttRenderMs};desc=&quot;Headless render time (ms)&quot;\\`\n  );\n  console.log(oriUrl);\n  var pdfTitle = oriUrl.replace(/\\//g, &quot; &quot;).trim().replace(/ /g, &quot;-&quot;);\n  console.log(pdfTitle);\n  res.setHeader(&quot;content-type&quot;, &quot;application/pdf&quot;);\n  res.setHeader(&quot;content-Disposition&quot;, \\`attachment;filename=\\${pdfTitle}.pdf\\`);\n  return res.status(200).send(pdf); // Serve prerendered page as response.\n});`, `80692060556944310000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"コピー\"\n              >\n                <svg class=\"gatsby-code-button-icon customSvgIconClass\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n\n        <div class=\"gatsby-code-title\">\n          <span>server.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 11\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">app<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">pdf</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> oriUrl <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span>originalUrl<span class=\"token punctuation\">;</span>\n  oriUrl <span class=\"token operator\">=</span> oriUrl<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pdf\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> pdf<span class=\"token punctuation\">,</span> ttRenderMs <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">ssr</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>req<span class=\"token punctuation\">.</span>protocol<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>req<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"host\"</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>oriUrl<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"Server-Timing\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Prerender;dur=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>ttRenderMs<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;desc=\"Headless render time (ms)\"</span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>oriUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> pdfTitle <span class=\"token operator\">=</span> oriUrl<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\/</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\" \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\"> </span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>pdfTitle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content-type\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"application/pdf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content-Disposition\"</span><span class=\"token punctuation\">,</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">attachment;filename=</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>pdfTitle<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.pdf</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span>pdf<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Serve prerendered page as response.</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"pdf-生成\" style=\"position:relative;\"><a href=\"#pdf-%E7%94%9F%E6%88%90\" aria-label=\"pdf 生成 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pdf 生成</h2>\n<h3 id=\"共通の-header-と-footer\" style=\"position:relative;\"><a href=\"#%E5%85%B1%E9%80%9A%E3%81%AE-header-%E3%81%A8-footer\" aria-label=\"共通の header と footer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>共通の Header と Footer</h3>\n<p>headerTemplate の src については、ロゴの画像の Raw データを入れることで、会社のロゴが各 pdf のページの左上に印刷される。</p>\n<div\n              class=\"gatsby-code-button-container customButtonContainerClass\"\n              data-toaster-id=\"10001512772588028000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"コピー完了\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`  const currentDatatime = new Date().toLocaleString({ timeZone: &quot;Asia/Tokyo&quot; });\n\n  headerTemplate = \\`<div style=&quot;position: relative; top: 0px; left: 0px; width: 100%; border-bottom: 1px solid black; margin: -5px 30px 0px; padding: 0px 0px 1px; font-size: 9px; font-family: Meiryo, Arial, sans-serif;&quot;>\n<div style=&quot;top: 0px; left: 0px; width: 200px; height: 35px; margin: 0px; padding: 0px&quot;>\n<image height=&quot;30px&quot; src=&quot;data:image/png;base64,.....&quot; />\n</div><div style=&quot;position: absolute; top: 20px;right: 0px;text-align: right; margin: 0px; padding: 0px;&quot;>Copyright &copy;  CO.,LTD.</div>\n</div>\\`;\n\n  footerTemplate = \\`<div style=&quot;position: relative; width: 100%; border-top: 1px solid black; margin: 0px 30px 25px; padding: 1px, 0px, 0px; font-size: 9px; font-family: Meiryo, Arial, sans-serif;&quot;>\n  <div style=&quot;position: absolute; top: 5px; left: 0px; text-align: left;&quot;>\n  <span class=&quot;title&quot;></span></div>\n  <div style=&quot;position: absolute; top: 5px; width: 100%; text-align: center;&quot;>\n  <span class=&quot;pageNumber&quot;></span> / <span class=&quot;totalPages&quot;></span></div>\n  <div style=&quot;position: absolute; top: 5px; right: 0px; text-align: right;&quot;>\\${currentDatatime}</div></div>\\`;`, `10001512772588028000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"コピー\"\n              >\n                <svg class=\"gatsby-code-button-icon customSvgIconClass\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n\n        <div class=\"gatsby-code-title\">\n          <span>ssr.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 15\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token keyword\">const</span> currentDatatime <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">timeZone</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Asia/Tokyo\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  headerTemplate <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;div style=\"position: relative; top: 0px; left: 0px; width: 100%; border-bottom: 1px solid black; margin: -5px 30px 0px; padding: 0px 0px 1px; font-size: 9px; font-family: Meiryo, Arial, sans-serif;\">\n&lt;div style=\"top: 0px; left: 0px; width: 200px; height: 35px; margin: 0px; padding: 0px\">\n&lt;image height=\"30px\" src=\"data:image/png;base64,.....\" />\n&lt;/div>&lt;div style=\"position: absolute; top: 20px;right: 0px;text-align: right; margin: 0px; padding: 0px;\">Copyright &amp;copy;  CO.,LTD.&lt;/div>\n&lt;/div></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n  footerTemplate <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;div style=\"position: relative; width: 100%; border-top: 1px solid black; margin: 0px 30px 25px; padding: 1px, 0px, 0px; font-size: 9px; font-family: Meiryo, Arial, sans-serif;\">\n  &lt;div style=\"position: absolute; top: 5px; left: 0px; text-align: left;\">\n  &lt;span class=\"title\">&lt;/span>&lt;/div>\n  &lt;div style=\"position: absolute; top: 5px; width: 100%; text-align: center;\">\n  &lt;span class=\"pageNumber\">&lt;/span> / &lt;span class=\"totalPages\">&lt;/span>&lt;/div>\n  &lt;div style=\"position: absolute; top: 5px; right: 0px; text-align: right;\"></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>currentDatatime<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/div>&lt;/div></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"pdf-作成\" style=\"position:relative;\"><a href=\"#pdf-%E4%BD%9C%E6%88%90\" aria-label=\"pdf 作成 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pdf 作成</h3>\n<p>executablePath は実際の Headless Chrome の exe のパスに書き換えてください。</p>\n<div\n              class=\"gatsby-code-button-container customButtonContainerClass\"\n              data-toaster-id=\"54443757068821030000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"コピー完了\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`  const browser = await puppeteer.launch({\n    executablePath:\n      &quot;./node_modules/puppeteer/.local-chromium/win32-555668/chrome-win32/chrome.exe&quot;,\n  });\n  const page = await browser.newPage();\n\n  const pdfInter = await page.pdf({\n    format: &quot;A4&quot;,\n    displayHeaderFooter: true,\n    headerTemplate: headerTemplate, // indicate html template for header\n    footerTemplate: footerTemplate, // indicate html template for header\n    margin: {\n      // increase margins (in this example, required!)\n      top: 80,\n      bottom: 80,\n      left: 30,\n      right: 30,\n    },\n  });`, `54443757068821030000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"コピー\"\n              >\n                <svg class=\"gatsby-code-button-icon customSvgIconClass\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n\n        <div class=\"gatsby-code-title\">\n          <span>ssr.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 80\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> puppeteer<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">executablePath</span><span class=\"token operator\">:</span>\n      <span class=\"token string\">\"./node_modules/puppeteer/.local-chromium/win32-555668/chrome-win32/chrome.exe\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> pdfInter <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">pdf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">format</span><span class=\"token operator\">:</span> <span class=\"token string\">\"A4\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">displayHeaderFooter</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">headerTemplate</span><span class=\"token operator\">:</span> headerTemplate<span class=\"token punctuation\">,</span> <span class=\"token comment\">// indicate html template for header</span>\n    <span class=\"token literal-property property\">footerTemplate</span><span class=\"token operator\">:</span> footerTemplate<span class=\"token punctuation\">,</span> <span class=\"token comment\">// indicate html template for header</span>\n    <span class=\"token literal-property property\">margin</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// increase margins (in this example, required!)</span>\n      <span class=\"token literal-property property\">top</span><span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">bottom</span><span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">left</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">right</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"pdf-のパーサー\" style=\"position:relative;\"><a href=\"#pdf-%E3%81%AE%E3%83%91%E3%83%BC%E3%82%B5%E3%83%BC\" aria-label=\"pdf のパーサー permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pdf のパーサー</h2>\n<p>pdf-parse を使って、pdf 文書の中に、TOC の各項目に当たる文字列を抽出して、<code class=\"language-text\">tocFilterdArray</code>の中に格納する。そして、各ページに当文字列があった場合、そのページの番号を<code class=\"language-text\">pageNumbers</code>に格納する。</p>\n<p>最後に、html のページ番号に当たる部分に pdf の解析した<code class=\"language-text\">pageNumbers</code>を格納する。</p>\n<div\n              class=\"gatsby-code-button-container customButtonContainerClass\"\n              data-toaster-id=\"56470668428302770000\"\n              data-toaster-class=\"gatsby-code-button-toaster customToasterClass\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text customToasterTextClass\"\n              data-toaster-text=\"コピー完了\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`  var pdf2 = require(&quot;pdf-parse&quot;);\n\n  await pdf2(pdfInter)\n    .then(function (data) {\n      var text = data.text;\n      var stringArray = text.split(&quot;\\n&quot;);\n      var tocFilterdArray = [];\n      for (const elem of stringArray) {\n        if (elem.startsWith(&quot;. . . . . . . . .&quot;) === true) {\n          var tempStr = elem.replace(/^([. ]*)/g, &quot;&quot;);\n          tempStr = tempStr.replace(/([. ]*)\\$/g, &quot;&quot;);\n          tocFilterdArray.push(tempStr);\n        }\n      }\n\n      var filterdArray = [];\n      var currentPage = 1;\n      for (const elem of stringArray) {\n        if (elem.endsWith(currentDatatime) === true) {\n          if (elem.startsWith(pagetitle) === true) {\n            var tempStr = elem\n              .replace(currentDatatime, &quot;&quot;)\n              .replace(pagetitle, &quot;&quot;);\n            var temparr = tempStr.split(&quot;/&quot;);\n            currentPage = temparr[0].trim();\n            filterdArray.push(currentPage);\n            console.log(&quot;Push: &quot; + currentPage);\n          }\n        }\n        if (tocFilterdArray.includes(elem) === true) {\n          filterdArray.push(elem);\n          pageNumbers.push(parseInt(currentPage));\n        }\n      }\n      const tocEl = root.querySelectorAll(&quot;.toc-page-number&quot;);\n      let pageNumberCorrect = 0;\n      tocEl.forEach((element) => {\n        const tempValue = pageNumbers[pageNumberCorrect];\n        element.set_content(String(tempValue));\n        pageNumberCorrect = pageNumberCorrect + 1;\n      });\n    })\n    .catch(function (err) {\n      console.log(err);\n    });`, `56470668428302770000`)\"\n            >\n              <div\n                class=\"gatsby-code-button customButtonClass\"\n                data-tooltip=\"コピー\"\n              >\n                <svg class=\"gatsby-code-button-icon customSvgIconClass\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n\n        <div class=\"gatsby-code-title\">\n          <span>ssr.js</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber 104\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token keyword\">var</span> pdf2 <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pdf-parse\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">await</span> <span class=\"token function\">pdf2</span><span class=\"token punctuation\">(</span>pdfInter<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">var</span> text <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">var</span> stringArray <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">var</span> tocFilterdArray <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> elem <span class=\"token keyword\">of</span> stringArray<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>elem<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\". . . . . . . . .\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">var</span> tempStr <span class=\"token operator\">=</span> elem<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^([. ]*)</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          tempStr <span class=\"token operator\">=</span> tempStr<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">([. ]*)$</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          tocFilterdArray<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>tempStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token keyword\">var</span> filterdArray <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">var</span> currentPage <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> elem <span class=\"token keyword\">of</span> stringArray<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>elem<span class=\"token punctuation\">.</span><span class=\"token function\">endsWith</span><span class=\"token punctuation\">(</span>currentDatatime<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>elem<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span>pagetitle<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">var</span> tempStr <span class=\"token operator\">=</span> elem\n              <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>currentDatatime<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>pagetitle<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">var</span> temparr <span class=\"token operator\">=</span> tempStr<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            currentPage <span class=\"token operator\">=</span> temparr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            filterdArray<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>currentPage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Push: \"</span> <span class=\"token operator\">+</span> currentPage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tocFilterdArray<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>elem<span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          filterdArray<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>elem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          pageNumbers<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>currentPage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">const</span> tocEl <span class=\"token operator\">=</span> root<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".toc-page-number\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> pageNumberCorrect <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n      tocEl<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">element</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> tempValue <span class=\"token operator\">=</span> pageNumbers<span class=\"token punctuation\">[</span>pageNumberCorrect<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        element<span class=\"token punctuation\">.</span><span class=\"token function\">set_content</span><span class=\"token punctuation\">(</span><span class=\"token function\">String</span><span class=\"token punctuation\">(</span>tempValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        pageNumberCorrect <span class=\"token operator\">=</span> pageNumberCorrect <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","frontmatter":{"title":"ウェブページのpdf生成","date":"March 20, 2022","description":"Headless Chrome Puppeteerを使って、ウェブページのpdf文書を自動生成する","tags":["puppeteer","Table of Contents"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAABP0lEQVQoz5WRv0rDUBTG4xv0AfRxxEl8gdpBseBqp6ogtOrkIKVCAqUFwSFDWpobOgpFF6esaf5QEkJDbDRpTUM7JJ940WILSvIt53LPd3989xwGv5QkCa3RZIq9ehX5bgP2aISR46AgNbFbryAKJivedTHrwPjbyD7cY/PsEAxXwgZXwlb5AHetxtKXGvilxSxCoXaFXOUI2zen2KldIHd9jPxtFYtwli0hBc7nKF6eo/v0uOxJL8/YL5/gYzpND4zjmNbhcAi2Vseb+wrN0KFqGibeO5osB2UwWPGmAsqyjGarhXa7DUIIiEggigSCINBeauDPN3Rd//OBpmnZZ6goCjqdDiRJoql6vR54nke/34dhGNmBqqoiDEM4jgPbthEEAcbjMXzfp+kzA03TpIvxPI+CXNelZ8uy6P1/wE9UIuUaumzvKwAAAABJRU5ErkJggg==","aspectRatio":1.927710843373494,"src":"/static/29797c80d6a20153d823c7e291f9c434/c57d4/puppeteer.png","srcSet":"/static/29797c80d6a20153d823c7e291f9c434/dd5bb/puppeteer.png 320w,\n/static/29797c80d6a20153d823c7e291f9c434/f3dec/puppeteer.png 640w,\n/static/29797c80d6a20153d823c7e291f9c434/c57d4/puppeteer.png 814w","sizes":"(max-width: 814px) 100vw, 814px"}}}}},"previous":{"fields":{"slug":"/ssg/"},"frontmatter":{"title":"Static site generator：Mkdocs"}},"next":null},"pageContext":{"id":"92290395-25f8-5491-8a3e-d3eac4b81ad9","previousPostId":"220a857b-5c50-532d-9fce-49d12d207c59","nextPostId":null}},
    "staticQueryHashes": ["2841359383","3257411868"]}